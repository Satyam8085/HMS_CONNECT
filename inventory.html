<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Inventory Management - HMS CONNECT</title>
  <link rel="stylesheet" href="style.css"> 
  <link rel="stylesheet" href="inventory.css"> 
</head>
<body>

  <!-- Navbar -->
  <div class="navbar">
    <div class="left">
      <img src="v987-18a.jpg" alt="Logo" class="logo">
      <h4>HMS CONNECT</h4>
    </div>
    <div class="right">
      <ul>
        <li><a href="index.html">HOME</a></li>
        <li><a href="about.html">ABOUT</a></li>
        <li><a href="contact.html">CONTACT US</a></li>
        <li><a style="margin-right: 30px;" href="login.html">LOGIN</a></li>
      </ul>
    </div>
  </div>

  <!-- Heading -->
  <h1>Inventory Management</h1>
  <h3>Add or Update Hospital Inventory</h3>

  <!-- Inventory Form -->
  <div class="inventory-form-container">
    <form action="#" method="post">
      <table>
        <tr>
          <td>Item Name:</td>
          <td><input type="text" name="item_name" required></td>
        </tr>
        <tr>
          <td>Category:</td>
          <td>
            <select name="category" required>
              <option value="">Select</option>
              <option>Medical Equipment</option>
              <option>Pharmaceuticals</option>
              <option>Sanitary Supplies</option>
              <option>General Supplies</option>
              <option>Lab Consumables</option>
              <option>Protective Gear</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>Quantity:</td>
          <td><input type="number" name="quantity" min="1" required></td>
        </tr>
        <tr>
          <td>Unit Price (₹):</td>
          <td><input type="number" name="unit_price" step="0.01" required></td>
        </tr>
        <tr>
          <td>Supplier Name:</td>
          <td><input type="text" name="supplier_name"></td>
        </tr>
        <tr>
          <td>Date of Purchase:</td>
          <td><input type="date" name="purchase_date"></td>
        </tr>
        <tr>
          <td>Expiry Date:</td>
          <td><input type="date" name="expiry_date"></td>
        </tr>
        <tr>
          <td>Remarks:</td>
          <td><textarea name="remarks" rows="3"></textarea></td>
        </tr>
        <tr>
          <td colspan="2" class="submit-cell">
            <input type="submit" value="Save Inventory Item">
          </td>
        </tr>
      </table>
    </form>
  </div>

  <!-- Inventory Management Options -->
  <div class="inventory-controls">
    <h3>Inventory Records</h3>

    <div class="filters">
      <input type="text" placeholder="Search by item name...">
      <select>
        <option value="">Filter by Category</option>
        <option>Medical Equipment</option>
        <option>Pharmaceuticals</option>
        <option>Sanitary Supplies</option>
        <option>General Supplies</option>
        <option>Lab Consumables</option>
      </select>
      <select>
        <option value="">Sort By</option>
        <option>Newest</option>
        <option>Oldest</option>
        <option>Quantity (Low to High)</option>
        <option>Quantity (High to Low)</option>
      </select>
      <button>Export to CSV</button>
    </div>

    <!-- Inventory Table -->
    <table class="inventory-table">
      <thead>
        <tr>
          <th>Item</th>
          <th>Category</th>
          <th>Qty</th>
          <th>Unit Price</th>
          <th>Supplier</th>
          <th>Purchase Date</th>
          <th>Expiry Date</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Gloves</td>
          <td>Protective Gear</td>
          <td>500</td>
          <td>₹5</td>
          <td>Medico Supply</td>
          <td>2025-06-01</td>
          <td>2026-06-01</td>
          <td>
            <button class="edit-btn">Edit</button>
            <button class="delete-btn">Delete</button>
          </td>
        </tr>
        <tr>
          <td>Syringes</td>
          <td>Medical Equipment</td>
          <td>1000</td>
          <td>₹2.50</td>
          <td>SafeMeds Ltd.</td>
          <td>2025-05-15</td>
          <td>2028-05-15</td>
          <td>
            <button class="edit-btn">Edit</button>
            <button class="delete-btn">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Footer -->
  <div class="footer">
    <p>&copy; 2025 HMS CONNECT. All rights reserved.</p>
    <p>Developed by: Satyam Singh</p>
    <p>Contact: support@hmsconnect.com | +91 8523697418</p>
    <p>
      Follow us:
      <a href="https://www.facebook.com" target="_blank">Facebook</a> |
      <a href="https://www.twitter.com" target="_blank">Twitter</a> |
      <a href="https://www.instagram.com" target="_blank">Instagram</a>
    </p>
  </div>
</body>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.querySelector("form");
    const tableBody = document.querySelector(".inventory-table tbody");
    const searchInput = document.querySelector(".filters input[type='text']");
    const categoryFilter = document.querySelector(".filters select:nth-of-type(1)");
    const sortSelect = document.querySelector(".filters select:nth-of-type(2)");
    const exportBtn = document.querySelector(".filters button");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const formData = new FormData(form);
      const item = formData.get("item_name");
      const category = formData.get("category");
      const qty = formData.get("quantity");
      const price = formData.get("unit_price");
      const supplier = formData.get("supplier_name");
      const purchase = formData.get("purchase_date");
      const expiry = formData.get("expiry_date");

      if (confirm(`Save inventory item: ${item}?`)) {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${item}</td>
          <td>${category}</td>
          <td>${qty}</td>
          <td>₹${parseFloat(price).toFixed(2)}</td>
          <td>${supplier}</td>
          <td>${purchase}</td>
          <td>${expiry}</td>
          <td>
            <button class="edit-btn">Edit</button>
            <button class="delete-btn">Delete</button>
          </td>
        `;
        tableBody.appendChild(row);
        form.reset();
        alert("✅ Inventory item saved!");
      }
    });

    tableBody.addEventListener("click", (e) => {
      if (e.target.classList.contains("delete-btn")) {
        if (confirm("Are you sure you want to delete this item?")) {
          e.target.closest("tr").remove();
        }
      } else if (e.target.classList.contains("edit-btn")) {
        const row = e.target.closest("tr");
        const cells = row.querySelectorAll("td");
        form.item_name.value = cells[0].textContent;
        form.category.value = cells[1].textContent;
        form.quantity.value = cells[2].textContent;
        form.unit_price.value = cells[3].textContent.replace("₹", "");
        form.supplier_name.value = cells[4].textContent;
        form.purchase_date.value = cells[5].textContent;
        form.expiry_date.value = cells[6].textContent;
        tableBody.removeChild(row);
        alert("✏️ You can now edit the item in the form.");
      }
    });

    searchInput.addEventListener("input", () => {
      const filter = searchInput.value.toLowerCase();
      Array.from(tableBody.rows).forEach((row) => {
        const itemName = row.cells[0].textContent.toLowerCase();
        row.style.display = itemName.includes(filter) ? "" : "none";
      });
    });

    categoryFilter.addEventListener("change", () => {
      const category = categoryFilter.value;
      Array.from(tableBody.rows).forEach((row) => {
        const itemCategory = row.cells[1].textContent;
        row.style.display = !category || itemCategory === category ? "" : "none";
      });
    });

    sortSelect.addEventListener("change", () => {
      const rows = Array.from(tableBody.rows);
      const sortType = sortSelect.value;
      let sorted;

      if (sortType === "Newest") {
        sorted = rows.sort((a, b) => new Date(b.cells[5].textContent) - new Date(a.cells[5].textContent));
      } else if (sortType === "Oldest") {
        sorted = rows.sort((a, b) => new Date(a.cells[5].textContent) - new Date(b.cells[5].textContent));
      } else if (sortType === "Quantity (Low to High)") {
        sorted = rows.sort((a, b) => parseInt(a.cells[2].textContent) - parseInt(b.cells[2].textContent));
      } else if (sortType === "Quantity (High to Low)") {
        sorted = rows.sort((a, b) => parseInt(b.cells[2].textContent) - parseInt(a.cells[2].textContent));
      } else {
        return;
      }

      tableBody.innerHTML = "";
      sorted.forEach(row => tableBody.appendChild(row));
    });

    exportBtn.addEventListener("click", () => {
      const rows = [["Item", "Category", "Qty", "Unit Price", "Supplier", "Purchase Date", "Expiry Date"]];
      tableBody.querySelectorAll("tr").forEach(tr => {
        const data = Array.from(tr.querySelectorAll("td")).slice(0, 7).map(td => td.textContent);
        rows.push(data);
      });

      const csv = rows.map(r => r.join(",")).join("\n");
      const blob = new Blob([csv], { type: "text/csv" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "inventory_records.csv";
      link.click();
    });
  });
</script>
</html>
